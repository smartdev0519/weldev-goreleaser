---
title: Artifactory
---

Since [v0.38.0](https://github.com/goreleaser/goreleaser/releases/tag/v0.38.0),
GoReleaser supports building and pushing artifacts into Artifactory.

## How it works

You can declare multiple Artifactory instances. 
All binaries generated by your `builds` section will be pushed to
each configured Artifactory.

If you have only one Artifactory instance,
the configuration is as easy as adding the
upload target and a usernameto your `.goreleaser.yml` file:

```yaml
artifactories:
  - name: production
    target: http://<Your-Instance>:8081/artifactory/example-repo-local/{{ .ProjectName }}/{{ .Version }}/{{ .Os }}/{{ .Arch }}{{ if .Arm }}{{ .Arm }}{{ end }}
    username: goreleaser
```

Prerequisites:

- A running Artifactory instances
- A user + password / API key with grants to upload an artifact

### Target

The `target` is the final URL of _without_ the binary name.

A configuration for `goreleaser` with the target 

```
http://artifacts.company.com:8081/artifactory/example-repo-local/{{ .ProjectName }}/{{ .Version }}/{{ .Os }}/{{ .Arch }}{{ if .Arm }}{{ .Arm }}{{ end }}
```

will result in a final deployment like

```
http://artifacts.company.com:8081/artifactory/example-repo-local/goreleaser/1.0.0/Darwin/x86_64/goreleaser
```

Support variables:

- Os
- Arch
- Arm
- Version
- Tag
- ProjectName

### Password / API Key

Your configured username needs to be authenticated against your Artifactory.

The password or API key will be stored in a environment variable.
The confgured name of your Artifactory instance will be used.
With this way we support auth for multiple instances.
This also means that the `name` per configured instance needs to be unique
per goreleaser configuration.

The name of the environment variable will be `ARTIFACTORY_NAME_SECRET`.
If your instance is named `production`, you need to store the secret in the
environment variable `ARTIFACTORY_PRODUCTION_SECRET`.
The name will be transformed to uppercase.

## Customization

Of course, you can customize a lot of things:

```yaml
# .goreleaser.yml
artifactories:
  # You can have multiple Artifactory instances.
  -
    # Unique name of your artifactory instance. Used to identify the instance
    name: production
    # URL of your Artifactory instance + path to deploy to
    target: http://artifacts.company.com:8081/artifactory/example-repo-local/{{ .ProjectName }}/{{ .Version }}/{{ .Os }}/{{ .Arch }}{{ if .Arm }}{{ .Arm }}{{ end }}
    # User that will be used for the deployment
    username: deployuser
```

These settings should allow you to push your artifacts into multiple Artifactories.